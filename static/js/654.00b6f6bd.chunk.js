!function(){"use strict";function t(r,e){return t=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,r){return t.__proto__=r,t},t(r,e)}function r(t){return r=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},r(t)}function e(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}function n(t){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},n(t)}function i(t,r){if(r&&("object"===n(r)||"function"===typeof r))return r;if(void 0!==r)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function o(r,n,i){return o=e()?Reflect.construct.bind():function(r,e,n){var i=[null];i.push.apply(i,e);var o=new(Function.bind.apply(r,i));return n&&t(o,n.prototype),o},o.apply(null,arguments)}function a(e){var n="function"===typeof Map?new Map:void 0;return a=function(e){if(null===e||(i=e,-1===Function.toString.call(i).indexOf("[native code]")))return e;var i;if("function"!==typeof e)throw new TypeError("Super expression must either be null or a function");if("undefined"!==typeof n){if(n.has(e))return n.get(e);n.set(e,a)}function a(){return o(e,arguments,r(this).constructor)}return a.prototype=Object.create(e.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),t(a,e)},a(e)}function u(t,r){(null==r||r>t.length)&&(r=t.length);for(var e=0,n=new Array(r);e<r;e++)n[e]=t[e];return n}function s(t,r){var e="undefined"!==typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!e){if(Array.isArray(t)||(e=function(t,r){if(t){if("string"===typeof t)return u(t,r);var e=Object.prototype.toString.call(t).slice(8,-1);return"Object"===e&&t.constructor&&(e=t.constructor.name),"Map"===e||"Set"===e?Array.from(t):"Arguments"===e||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e)?u(t,r):void 0}}(t))||r&&t&&"number"===typeof t.length){e&&(t=e);var n=0,i=function(){};return{s:i,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){e=e.call(t)},n:function(){var t=e.next();return a=t.done,t},e:function(t){s=!0,o=t},f:function(){try{a||null==e.return||e.return()}finally{if(s)throw o}}}}function c(t,r){if(!(t instanceof r))throw new TypeError("Cannot call a class as a function")}function f(t){var r=function(t,r){if("object"!==n(t)||null===t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var i=e.call(t,r||"default");if("object"!==n(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===r?String:Number)(t)}(t,"string");return"symbol"===n(r)?r:String(r)}function l(t,r){for(var e=0;e<r.length;e++){var n=r[e];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,f(n.key),n)}}function p(t,r,e){return r&&l(t.prototype,r),e&&l(t,e),Object.defineProperty(t,"prototype",{writable:!1}),t}var y=function(){function t(r){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;if(c(this,t),!(r instanceof Object))throw new Error("Unit constructor was called with "+r);this.parts=r,this.quantity=e}return p(t,[{key:"toString",value:function(){var t=[];for(var r in this.parts)if(this.parts[r]>0)for(var e=0;e<this.parts[r];++e)t.push(r);var n=[];for(var i in this.parts)if(this.parts[i]<0)for(var o=0;o<-this.parts[i];++o)n.push(i);return(0===t.length?"1":t.join(" "))+(0===n.length?"":" / "+n.join(" "))}},{key:"sameDimension",value:function(t){for(var r=0,e=Object.keys(this.parts);r<e.length;r++){var n=e[r];if(this.parts[n]!==t.parts[n])return!1}return Object.keys(this.parts).length===Object.keys(t.parts).length}},{key:"isEqual",value:function(t){return this.sameDimension(t)&&Math.abs(this.quantity-t.quantity)<1e-5}},{key:"multiply",value:function(t){for(var r=0,e=Object.keys(t.parts);r<e.length;r++){var n=e[r];n in this.parts?this.parts[n]+=t.parts[n]:this.parts[n]=t.parts[n]}this.quantity*=t.quantity}},{key:"divide",value:function(t){for(var r=0,e=Object.keys(t.parts);r<e.length;r++){var n=e[r];n in this.parts?this.parts[n]-=t.parts[n]:this.parts[n]=-t.parts[n]}this.quantity/=t.quantity}}],[{key:"parse",value:function(r){var e,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:v,i=new t({},1),o=!1,a=s(r.split(" "));try{for(a.s();!(e=a.n()).done;){var u=e.value;if("/"===(u=u.trim().toLowerCase())||"per"===u)o=!0;else if(""!==u){if("s"===u[u.length-1]&&u.length>1&&(u=u.slice(0,-1)),!n.hasBaseUnit(u))throw new b(u);var c=new t(Object.fromEntries([[u,1]],1));o?i.divide(c):i.multiply(c)}}}catch(f){a.e(f)}finally{a.f()}return i}}]),t}(),h=function(){function t(r){c(this,t),this.fromMetricBase=Object.fromEntries(r.map((function(t){var r=t.metric,e=t.unit,n=t.factor;return[r,new y(Object.fromEntries([[e,1]]),n)]}))),this.toMetricBase=Object.fromEntries(r.map((function(t){var r=t.metric,e=t.unit,n=t.factor;return[e,new y(Object.fromEntries([[r,1]]),1/n)]}))),this.units=r}return p(t,[{key:"hasBaseUnit",value:function(t){return t in this.toMetricBase}},{key:"fromMetric",value:function(t){for(var r=new y({},1),e=0,n=Object.keys(t.parts);e<n.length;e++){var i=n[e],o=t.parts[i];if(o>0)for(var a=0;a<o;++a)r.multiply(this.fromMetricBase[i]);else for(var u=0;u<o;++u)r.divide(this.fromMetricBase[i])}return r}},{key:"toMetric",value:function(t){for(var r=new y({},1),e=0,n=Object.keys(t.parts);e<n.length;e++){var i=n[e],o=t.parts[i];if(o>0)for(var a=0;a<o;++a)r.multiply(this.toMetricBase[i]);else for(var u=0;u<o;++u)r.divide(this.toMetricBase[i])}return r}}]),t}(),v=new h([{unit:"meter",metric:"meter",factor:1},{unit:"gram",metric:"gram",factor:1},{unit:"second",metric:"second",factor:1}]),m=new h([{unit:"feet",metric:"meter",factor:.3048},{unit:"pound",metric:"gram",factor:453.59237},{unit:"second",metric:"second",factor:1}]),b=function(n){!function(r,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");r.prototype=Object.create(e&&e.prototype,{constructor:{value:r,writable:!0,configurable:!0}}),Object.defineProperty(r,"prototype",{writable:!1}),e&&t(r,e)}(a,n);var o=function(t){var n=e();return function(){var e,o=r(t);if(n){var a=r(this).constructor;e=Reflect.construct(o,arguments,a)}else e=o.apply(this,arguments);return i(this,e)}}(a);function a(t){var r;return c(this,a),(r=o.call(this,"Unknown unit "+t)).name="UnknownUnitError",r}return p(a)}(a(Error));function d(){var t=Math.floor(Math.random()*m.units.length);return m.units[t].unit}function g(){for(var t=new y({},1),r=new y({},1),e=0;e<Math.floor(1+10*Math.random());e++){var n=y.parse(d(),m);Math.random()>.5?(t.multiply(m.toMetric(n)),r.multiply(n)):(t.divide(m.toMetric(n)),r.divide(n))}return{unitOldBasis:t,unitNewBasis:r}}self.onmessage=function(t){var r=new y(t.data.parts,t.data.quantity),e=function(t){for(var r=0;r<1e3;++r){var e=g(),n=e.unitOldBasis,i=e.unitNewBasis;if(console.log("generated unit "+n.toString()),t.sameDimension(n))return i}return new y({},1)}(r);console.log("worker received: "+JSON.stringify(r)),console.log("and generated: "+JSON.stringify(e)),self.postMessage({basedOn:r,generated:e})}}();
//# sourceMappingURL=654.00b6f6bd.chunk.js.map